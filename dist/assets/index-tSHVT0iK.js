(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();window.addEventListener("DOMContentLoaded",()=>{x(),A(),j()});function x(){let u=document.forms[0],s=document.querySelector("ul"),o=document.querySelector(".todo__set"),c=!1;document.addEventListener("mousedown",e=>{e.detail>1&&e.preventDefault()});function n(){window.addEventListener("load",e=>{for(let t=0;t<localStorage.length;t++)g(localStorage.getItem(t))})}n();function i(e){e?s.previousElementSibling.textContent="List is empty...":s.previousElementSibling.textContent=""}i(!0);function f(e,t,r){c=!1,confirm(e,"")&&(Array.isArray(t)?(r||t.forEach(a=>{a.classList.contains("list__item_reject")||(a.remove(),localStorage.clear(),m(s.querySelectorAll(".list__text")))}),r&&t.forEach(a=>{a.classList.contains("list__item_done")&&(a.remove(),localStorage.clear(),m(s.querySelectorAll(".list__text")))})):t.remove(),s.parentElement.style.minHeight=0,s.children.length==0&&i(!0))}function y(e){let t=`
            <span class="list__text">${e}</span>  
            <div class="">
                <span class="check list__target" >✓</span>
                <span class="denied list__target" >✕</span> 
                <span class="reject list__target" >reject</span> 
            </div>`,r=document.createElement("li");return r.classList.add("list__item"),r.classList.add("target-item"),r.insertAdjacentHTML("afterBegin",t),i(!1),s.parentElement.style.minHeight=s.parentElement.offsetHeight+r.offsetHeight+"px",s.append(r),r}function m(e){e.forEach((t,r)=>localStorage.setItem(r,t.textContent))}function p(e,t){c=!0;let r=document.createElement("textarea");r.classList.add("list__edit"),e.insertAdjacentHTML("afterend",'<button type="button" class="button  list__edit-button">Edit</button>'),r.value=e.innerHTML,e.replaceWith(r),r.focus();let l=s.querySelectorAll("button");function a(){r.replaceWith(e),e.textContent=r.value,l.forEach(d=>{d.removeEventListener("click",_),d.remove(),c=!1})}function _(d){localStorage.setItem(d,r.value),a()}l&&l.forEach(d=>d.addEventListener("click",()=>_(t)))}function h(e){let t=e.querySelectorAll(".check"),r=e.querySelectorAll(".reject");e.classList.contains("list__item_done")?(e.classList.remove("list__item_reject"),t.forEach(l=>l.style.color="lightgreen"),r.forEach(l=>l.style.color="")):t.forEach(l=>l.style.color="")}function L(e){let t=e.querySelectorAll(".check"),r=e.querySelectorAll(".reject");e.classList.contains("list__item_reject")?(e.classList.remove("list__item_done"),r.forEach(l=>l.style.color="red"),t.forEach(l=>l.style.color="")):r.forEach(l=>l.style.color="")}function E(e,t,r){if(c)return;let l=e.target.closest(".list__target");if(l){if(l&&l.matches(".check")){if(t.classList.contains("list__item_reject"))return;t.classList.toggle("list__item_done"),h(t)}if(l&&l.matches(".reject")&&(t.classList.toggle("list__item_reject"),L(t)),l&&l.matches(".denied")){if(t.classList.contains("list__item_reject"))return;f("Delete this note?",t),localStorage.clear(),m(s.querySelectorAll(".list__text"))}}}function g(e){e&&y(e);let t=document.querySelectorAll(".list__item"),r=document.querySelectorAll(".list__text");t.forEach((l,a)=>{l.onclick=_=>E(_,l)}),u.reset(),r.forEach((l,a)=>{localStorage.setItem(a,l.textContent),l.onclick=()=>{c||p(l,a)}})}function S(e){e.preventDefault()}function v(e){let t=e.target.closest(".button");if(t){if(t&&t.matches(".check-all")&&Array.from(s.children).forEach(r=>{r.classList.contains("list__item_reject")||(r.classList.add("list__item_done"),h(r))}),t&&t.matches(".remove-all")){let r=!0;for(let l of s.children)l.classList.contains("list__item_reject")||(r=!1);s.children.length>0&&!r&&f("Delete all notes?",Array.from(s.children))}if(t&&t.matches(".remove-all-checked")){let r=!0,l=!1;for(let a of s.children)a.classList.contains("list__item_done")&&(l=!0);l&&f("Delete all completed notes?",Array.from(s.children),r)}}}u.addEventListener("submit",e=>{S(e),g(u.note.value)}),o.addEventListener("click",v)}function A(){let u=new Date,s=document.querySelector(".footer__date");function o(c){let n=c.getDate()<10?"0"+c.getDate():c.getDate(),i=c.getMonth()<10?"0"+(c.getMonth()+1):c.getMonth()+1,f=c.getFullYear();return{day:n,month:i,year:f}}s.innerHTML=`${o(u).day} . ${o(u).month} . ${o(u).year}`}function j(){function u(){let o=new Date,c=o.getHours()<10?"0"+o.getHours():o.getHours(),n=o.getMinutes()<10?"0"+o.getMinutes():o.getMinutes(),i=o.getSeconds()<10?"0"+o.getSeconds():o.getSeconds();return{hours:c,minutes:n,seconds:i}}function s(){let o=document.querySelector(".timer"),c=o.querySelector(".timer__hours"),n=o.querySelector(".timer__minutes"),i=o.querySelector(".timer__seconds");function f(){c.innerHTML=u().hours,n.innerHTML=u().minutes,i.innerHTML=u().seconds}f(),setInterval(f,1e3)}s()}
